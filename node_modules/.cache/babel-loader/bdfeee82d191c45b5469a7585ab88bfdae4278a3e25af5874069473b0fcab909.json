{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\save-links\\\\src\\\\components\\\\ImportJson.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { coldarkDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport './inpexp.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faXmark, faFileCode, faFileCirclePlus, faLink, faReplyAll } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ImportJson(props) {\n  _s();\n  const [fileContent, setFileContent] = useState(null);\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const json = JSON.parse(e.target.result);\n        setFileContent(json);\n      } catch (error) {\n        console.error(\"Error parsing JSON\", error);\n      }\n    };\n    if (file) {\n      reader.readAsText(file);\n    }\n  };\n  const addData = () => {\n    const existingData = JSON.parse(localStorage.getItem('websiteData')) || [];\n    const newFileContent = Array.isArray(fileContent) ? fileContent : [fileContent];\n    const combinedData = [...existingData, ...newFileContent];\n    const data = JSON.stringify(combinedData);\n    localStorage.setItem('websiteData', data);\n    props.setDisplay(false);\n    props.refresh();\n    props.notify(newFileContent.length + ' cards wher added to existing ' + existingData.length + ' cards.\\n total cards: ' + (newFileContent.length + existingData.length));\n  };\n  const replaceData = () => {\n    const data = JSON.stringify(fileContent);\n    localStorage.setItem('websiteData', data);\n    props.setDisplay(false);\n    props.refresh();\n    props.notify(fileContent.length + ' cards are replaced with existing cards.');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addingCard\",\n    style: {\n      display: props.display ? 'grid' : 'none'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"impexp\",\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faXmark,\n        className: \"close\",\n        onClick: () => {\n          props.setDisplay(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Importing links  \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".json\",\n        onChange: handleFileChange,\n        id: \"fileInput\",\n        className: \"hidden-file-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), fileContent && /*#__PURE__*/_jsxDEV(SyntaxHighlighter, {\n        className: \"code\",\n        language: \"json\",\n        style: coldarkDark,\n        showLineNumbers: true,\n        children: JSON.stringify(fileContent, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btbox\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fileInput\",\n          className: \"custom-file-label\",\n          children: [\"Choose File \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faFileCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 90\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addData,\n          disabled: !fileContent,\n          children: [\"Add \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faFileCirclePlus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 75\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: replaceData,\n          disabled: !fileContent,\n          children: [\"Replace \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faReplyAll\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(ImportJson, \"M5plJ+xqyhfA4oR9r+xW9YmoZNk=\");\n_c = ImportJson;\nvar _c;\n$RefreshReg$(_c, \"ImportJson\");","map":{"version":3,"names":["React","useState","Prism","SyntaxHighlighter","coldarkDark","FontAwesomeIcon","faXmark","faFileCode","faFileCirclePlus","faLink","faReplyAll","jsxDEV","_jsxDEV","ImportJson","props","_s","fileContent","setFileContent","handleFileChange","event","file","target","files","reader","FileReader","onload","e","json","JSON","parse","result","error","console","readAsText","addData","existingData","localStorage","getItem","newFileContent","Array","isArray","combinedData","data","stringify","setItem","setDisplay","refresh","notify","length","replaceData","className","style","display","children","icon","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","id","language","showLineNumbers","htmlFor","disabled","_c","$RefreshReg$"],"sources":["C:/project/save-links/src/components/ImportJson.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { coldarkDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\nimport './inpexp.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faXmark, faFileCode, faFileCirclePlus, faLink, faReplyAll} from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function ImportJson(props) {\r\n    const [fileContent, setFileContent] = useState(null);\r\n\r\n    const handleFileChange = (event) => {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n            try {\r\n                const json = JSON.parse(e.target.result);\r\n                setFileContent(json);\r\n            } catch (error) {\r\n                console.error(\"Error parsing JSON\", error);\r\n            }\r\n        };\r\n        if (file) {\r\n            reader.readAsText(file);\r\n        }\r\n    };\r\n\r\n    const addData = () => {\r\n        const existingData = JSON.parse(localStorage.getItem('websiteData')) || [];\r\n        const newFileContent = Array.isArray(fileContent) ? fileContent : [fileContent];\r\n        const combinedData = [...existingData, ...newFileContent];\r\n        const data = JSON.stringify(combinedData);\r\n        localStorage.setItem('websiteData', data);\r\n        props.setDisplay(false);\r\n        props.refresh();\r\n        props.notify(newFileContent.length+' cards wher added to existing '+existingData.length+' cards.\\n total cards: '+(newFileContent.length+existingData.length));\r\n    };\r\n\r\n    const replaceData = () => {\r\n        const data = JSON.stringify(fileContent);\r\n        localStorage.setItem('websiteData', data);\r\n        \r\n        props.setDisplay(false);\r\n        props.refresh();\r\n        props.notify(fileContent.length+' cards are replaced with existing cards.');\r\n    };\r\n\r\n    return (\r\n        <div className='addingCard' style={{ display: props.display ? 'grid' : 'none' }}>\r\n            <div className='impexp'>\r\n                <FontAwesomeIcon icon={faXmark} className='close' onClick={() => { props.setDisplay(false) }} />\r\n                <h2>Importing links  <FontAwesomeIcon icon={faLink} /></h2>\r\n                <input type=\"file\" accept=\".json\" onChange={handleFileChange} id=\"fileInput\" className='hidden-file-input' />\r\n                {fileContent && (\r\n                    <SyntaxHighlighter className='code' language=\"json\" style={coldarkDark} showLineNumbers>\r\n                        {JSON.stringify(fileContent, null, 2)}\r\n                    </SyntaxHighlighter>\r\n                )}\r\n                <div className='btbox'>\r\n                    <label htmlFor=\"fileInput\" className=\"custom-file-label\">Choose File <FontAwesomeIcon icon={faFileCode} /></label>\r\n                    <button onClick={addData} disabled={!fileContent}>Add <FontAwesomeIcon icon={faFileCirclePlus} /></button>\r\n                    <button onClick={replaceData} disabled={!fileContent}>Replace <FontAwesomeIcon icon={faReplyAll} /></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from'react';import{Prism as SyntaxHighlighter}from'react-syntax-highlighter';import{coldarkDark}from'react-syntax-highlighter/dist/esm/styles/prism';import'./inpexp.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faXmark,faFileCode,faFileCirclePlus,faLink,faReplyAll}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ImportJson(props){const[fileContent,setFileContent]=useState(null);const handleFileChange=event=>{const file=event.target.files[0];const reader=new FileReader();reader.onload=e=>{try{const json=JSON.parse(e.target.result);setFileContent(json);}catch(error){console.error(\"Error parsing JSON\",error);}};if(file){reader.readAsText(file);}};const addData=()=>{const existingData=JSON.parse(localStorage.getItem('websiteData'))||[];const newFileContent=Array.isArray(fileContent)?fileContent:[fileContent];const combinedData=[...existingData,...newFileContent];const data=JSON.stringify(combinedData);localStorage.setItem('websiteData',data);props.setDisplay(false);props.refresh();props.notify(newFileContent.length+' cards wher added to existing '+existingData.length+' cards.\\n total cards: '+(newFileContent.length+existingData.length));};const replaceData=()=>{const data=JSON.stringify(fileContent);localStorage.setItem('websiteData',data);props.setDisplay(false);props.refresh();props.notify(fileContent.length+' cards are replaced with existing cards.');};return/*#__PURE__*/_jsx(\"div\",{className:\"addingCard\",style:{display:props.display?'grid':'none'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"impexp\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark,className:\"close\",onClick:()=>{props.setDisplay(false);}}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Importing links  \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faLink})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".json\",onChange:handleFileChange,id:\"fileInput\",className:\"hidden-file-input\"}),fileContent&&/*#__PURE__*/_jsx(SyntaxHighlighter,{className:\"code\",language:\"json\",style:coldarkDark,showLineNumbers:true,children:JSON.stringify(fileContent,null,2)}),/*#__PURE__*/_jsxs(\"div\",{className:\"btbox\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"fileInput\",className:\"custom-file-label\",children:[\"Choose File \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFileCode})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:addData,disabled:!fileContent,children:[\"Add \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFileCirclePlus})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:replaceData,disabled:!fileContent,children:[\"Replace \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faReplyAll})]})]})]})});}","map":{"version":3,"names":["React","useState","Prism","SyntaxHighlighter","coldarkDark","FontAwesomeIcon","faXmark","faFileCode","faFileCirclePlus","faLink","faReplyAll","jsx","_jsx","jsxs","_jsxs","ImportJson","props","fileContent","setFileContent","handleFileChange","event","file","target","files","reader","FileReader","onload","e","json","JSON","parse","result","error","console","readAsText","addData","existingData","localStorage","getItem","newFileContent","Array","isArray","combinedData","data","stringify","setItem","setDisplay","refresh","notify","length","replaceData","className","style","display","children","icon","onClick","type","accept","onChange","id","language","showLineNumbers","htmlFor","disabled"],"sources":["C:/project/save-links/src/components/ImportJson.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { coldarkDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\nimport './inpexp.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faXmark, faFileCode, faFileCirclePlus, faLink, faReplyAll} from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function ImportJson(props) {\r\n    const [fileContent, setFileContent] = useState(null);\r\n\r\n    const handleFileChange = (event) => {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n            try {\r\n                const json = JSON.parse(e.target.result);\r\n                setFileContent(json);\r\n            } catch (error) {\r\n                console.error(\"Error parsing JSON\", error);\r\n            }\r\n        };\r\n        if (file) {\r\n            reader.readAsText(file);\r\n        }\r\n    };\r\n\r\n    const addData = () => {\r\n        const existingData = JSON.parse(localStorage.getItem('websiteData')) || [];\r\n        const newFileContent = Array.isArray(fileContent) ? fileContent : [fileContent];\r\n        const combinedData = [...existingData, ...newFileContent];\r\n        const data = JSON.stringify(combinedData);\r\n        localStorage.setItem('websiteData', data);\r\n        props.setDisplay(false);\r\n        props.refresh();\r\n        props.notify(newFileContent.length+' cards wher added to existing '+existingData.length+' cards.\\n total cards: '+(newFileContent.length+existingData.length));\r\n    };\r\n\r\n    const replaceData = () => {\r\n        const data = JSON.stringify(fileContent);\r\n        localStorage.setItem('websiteData', data);\r\n        \r\n        props.setDisplay(false);\r\n        props.refresh();\r\n        props.notify(fileContent.length+' cards are replaced with existing cards.');\r\n    };\r\n\r\n    return (\r\n        <div className='addingCard' style={{ display: props.display ? 'grid' : 'none' }}>\r\n            <div className='impexp'>\r\n                <FontAwesomeIcon icon={faXmark} className='close' onClick={() => { props.setDisplay(false) }} />\r\n                <h2>Importing links  <FontAwesomeIcon icon={faLink} /></h2>\r\n                <input type=\"file\" accept=\".json\" onChange={handleFileChange} id=\"fileInput\" className='hidden-file-input' />\r\n                {fileContent && (\r\n                    <SyntaxHighlighter className='code' language=\"json\" style={coldarkDark} showLineNumbers>\r\n                        {JSON.stringify(fileContent, null, 2)}\r\n                    </SyntaxHighlighter>\r\n                )}\r\n                <div className='btbox'>\r\n                    <label htmlFor=\"fileInput\" className=\"custom-file-label\">Choose File <FontAwesomeIcon icon={faFileCode} /></label>\r\n                    <button onClick={addData} disabled={!fileContent}>Add <FontAwesomeIcon icon={faFileCirclePlus} /></button>\r\n                    <button onClick={replaceData} disabled={!fileContent}>Replace <FontAwesomeIcon icon={faReplyAll} /></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
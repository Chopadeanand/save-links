{"ast":null,"code":"import React,{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPlus}from'@fortawesome/free-solid-svg-icons/faPlus';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddCard(props){const[adding,setAdding]=useState(false);const[name,setName]=useState('');const[url,setUrl]=useState('');const[faviconUrl,setFaviconUrl]=useState('default.svg');const[urlError,setUrlError]=useState(false);const[cardColor,setCardColor]=useState('#1e1e1e');const addCard=()=>{if(!isValidUrl(url)){setUrlError(true);return;}const newCard={name:name,url:url,iconUrl:faviconUrl,color:cardColor};const updatedData=[...props.data,newCard];const data=JSON.stringify(updatedData);localStorage.setItem('websiteData',data);if(name==='deletedata'){localStorage.removeItem('websiteData');}setName('');setUrl('');setFaviconUrl('default.svg');setCardColor('#1e1e1e');setAdding(false);setUrlError(false);props.refresh();props.notify('New card '+name+' has been created');};const getud=e=>{setUrl(e.target.value);getFavicon();};const getFavicon=()=>{if(!url){return;}const domain=extractDomain(url);const faviconUrl=`https://icons.duckduckgo.com/ip3/${domain}.ico`;setFaviconUrl(faviconUrl);};const extractDomain=url=>{return url.replace(/^https?:\\/\\//,'').replace(/\\/.*$/,'');};const isValidUrl=string=>{try{new URL(string);return true;}catch(_){return false;}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgspace\",onClick:()=>{setAdding(true);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlus,className:\"plus\"})}),\"Add Card\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addingCard\",style:{display:adding?'grid':'none'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card ed\",style:{backgroundColor:cardColor},children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgspace\",onClick:()=>{setAdding(true);},children:/*#__PURE__*/_jsx(\"img\",{src:faviconUrl,alt:\"Favicon\"})}),name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Card Name\",value:name,onChange:e=>{setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter URL...\",value:url,onChange:getud,style:{border:urlError?'3px solid red':'none'}}),/*#__PURE__*/_jsx(\"input\",{className:\"color-picker\",type:\"color\",value:cardColor,onClick:()=>{getFavicon();},onChange:e=>setCardColor(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addCard,children:\"Add Card\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setAdding(false);},children:\"Cancel\"})]})]})]});}","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faPlus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddCard","props","adding","setAdding","name","setName","url","setUrl","faviconUrl","setFaviconUrl","urlError","setUrlError","cardColor","setCardColor","addCard","isValidUrl","newCard","iconUrl","color","updatedData","data","JSON","stringify","localStorage","setItem","removeItem","refresh","notify","getud","e","target","value","getFavicon","domain","extractDomain","replace","string","URL","_","children","className","onClick","icon","style","display","backgroundColor","src","alt","type","placeholder","onChange","border"],"sources":["C:/project/save-links/src/components/AddCard.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlus } from '@fortawesome/free-solid-svg-icons/faPlus';\r\n\r\nexport default function AddCard(props) {\r\n    const [adding, setAdding] = useState(false);\r\n    const [name, setName] = useState('');\r\n    const [url, setUrl] = useState('');\r\n    const [faviconUrl, setFaviconUrl] = useState('default.svg');\r\n    const [urlError, setUrlError] = useState(false);\r\n    const [cardColor, setCardColor] = useState('#1e1e1e');\r\n\r\n    const addCard = () => {\r\n        if (!isValidUrl(url)) {\r\n            setUrlError(true);\r\n            return;\r\n        }\r\n\r\n        const newCard = {\r\n            name: name,\r\n            url: url,\r\n            iconUrl: faviconUrl,\r\n            color: cardColor,\r\n        };\r\n        const updatedData = [...props.data, newCard];\r\n        \r\n        const data = JSON.stringify(updatedData);\r\n        localStorage.setItem('websiteData', data);\r\n        if(name === 'deletedata'){ localStorage.removeItem('websiteData'); }\r\n        setName('');\r\n        setUrl('');\r\n        setFaviconUrl('default.svg');\r\n        setCardColor('#1e1e1e');\r\n        setAdding(false);\r\n        setUrlError(false);\r\n        props.refresh();\r\n        props.notify('New card '+name+' has been created');\r\n    };\r\n\r\n    const getud = (e) => {\r\n        setUrl(e.target.value);\r\n        getFavicon();\r\n    };\r\n\r\n    const getFavicon = () => {\r\n        if (!url) {\r\n            return;\r\n        }\r\n        const domain = extractDomain(url);\r\n        const faviconUrl = `https://icons.duckduckgo.com/ip3/${domain}.ico`;\r\n        setFaviconUrl(faviconUrl);\r\n    };\r\n\r\n    const extractDomain = (url) => {\r\n        return url.replace(/^https?:\\/\\//, '').replace(/\\/.*$/, '');\r\n    };\r\n\r\n    const isValidUrl = (string) => {\r\n        try {\r\n            new URL(string);\r\n            return true;\r\n        } catch (_) {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    return (\r\n    <>\r\n        <div className='card'>\r\n            <div className='imgspace' onClick={() => { setAdding(true); }}>\r\n                <FontAwesomeIcon icon={faPlus} className='plus' />\r\n            </div>Add Card\r\n        </div>\r\n\r\n        {/* Add Card Modal */}\r\n        <div className='addingCard' style={{ display: adding ? 'grid' : 'none' }}>\r\n            <div className='card ed' style={{ backgroundColor: cardColor }}>\r\n                <div className='imgspace' onClick={() => { setAdding(true); }}>\r\n                    <img src={faviconUrl} alt=\"Favicon\" />\r\n                </div>\r\n                {name}\r\n            </div>\r\n\r\n            <div className='details'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='Enter Card Name'\r\n                    value={name}\r\n                    onChange={(e) => { setName(e.target.value); }}\r\n                />\r\n                <input\r\n                    type='text'\r\n                    placeholder='Enter URL...'\r\n                    value={url}\r\n                    onChange={getud}\r\n                    style={{border: urlError ? '3px solid red' : 'none'}}\r\n                />\r\n                {/* Color Picker Input */}\r\n                <input \r\n                    className='color-picker'\r\n                    type=\"color\" \r\n                    value={cardColor} \r\n                    onClick={() => {getFavicon();}}\r\n                    onChange={(e) => setCardColor(e.target.value)} \r\n                />\r\n                \r\n                <button onClick={addCard}>Add Card</button>\r\n                <button onClick={() => { setAdding(false); }}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    </>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}